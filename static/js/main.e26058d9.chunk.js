(this["webpackJsonppal-app"]=this["webpackJsonppal-app"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),s=(n(59),n(3)),c=n(12),u=n(4),l=n(13),g=n(14),d=n(15),h=(n(60),n(18)),p=n.n(h),m=n(24),f=n.n(m),k=n(25),v=n.n(k),b=n(118),y=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(g.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{variant:"contained",size:"small",color:"default",onClick:function(){e.props.triggerNextStep({value:"yes",trigger:"feedback-form"})}},"Wrong Response? Click Me!")}}]),t}(r.a.Component);Object({NODE_ENV:"production",PUBLIC_URL:"/chat"}).NODE_TLS_REJECT_UNAUTHORIZED="0";var O,w=n(102)(),j=0;window.onkeyup=function(){j=0},window.onkeypress=function(){j=0},window.oninput=function(){j=0};var E=[],T=["What are you doing today?","What are you doing right now?","What's up?","How are you today?","What do you like to do?","How are you?"],I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(g.a)(t).call(this,e))).state={result:r.a.createElement(h.Loading,null)},n.state.result=n.getRandomStart(),n.props.triggerNextStep(),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"getRandomStart",value:function(){var e=T[this.getRandomInt(T.length)];return E[E.length-1]=E[E.length-1]+" "+e,console.log("message"),e}},{key:"render",value:function(){return this.state.result}}]),t}(r.a.Component),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(g.a)(t).call(this,e))).state={loading:!0,result:r.a.createElement(h.Loading,null),trigger:!1},n.state.result="",n.searchInputTimeout=setTimeout((function(){n.sendfeedback(e).then((function(e){console.log(e),n.refresh()}))}),400),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.result}},{key:"sendfeedback",value:function(e){var t={history:E,id:w,feedback:e.steps["user-feedback"].message};return f.a.create({httpsAgent:new v.a.Agent({rejectUnauthorized:!1,strictSSL:!1})}).post("https://greetez.com:4240/feedback",t).then((function(e){return console.log(e.data),e.data})).catch((function(e){return console.log(e)}))}},{key:"refresh",value:function(){window.location.replace("https://pal-ai.github.io/chat")}}]),t}(r.a.Component),N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(g.a)(t).call(this,e))).stopTimer(),n.CheckIdleTime=n.CheckIdleTime.bind(Object(s.a)(n)),n.state={loading:!0,result:r.a.createElement(h.Loading,null),trigger:!1,trigfunc:n.props.triggerNextStep},E.push(e.previousStep.message),n.searchInputTimeout=setTimeout((function(){n.makeprediction().then((function(e){n.state.result=e,E.push(e),n.startTimer(),n.props.triggerNextStep()}))}),400),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"makeprediction",value:function(){var e={history:E,device:"cpu",top_p:0,top_k:10,temperature:1,id:w};return f.a.create({httpsAgent:new v.a.Agent({rejectUnauthorized:!1,strictSSL:!1})}).post("https://greetez.com:4240/predict",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"goInactive",value:function(){console.log("timer hit")}},{key:"render",value:function(){return this.state.result}},{key:"startTimer",value:function(){O=window.setInterval(this.CheckIdleTime,1e3)}},{key:"stopTimer",value:function(){window.clearInterval(O)}},{key:"CheckIdleTime",value:function(){j++,console.log(j),j>=15&&(this.props.triggerNextStep({value:"yes",trigger:"start1"}),j=0)}}]),t}(r.a.Component);N.defaultProps={steps:void 0,triggerNextStep:void 0};var C=[{id:"start0",message:"Hello there!",trigger:"user"},{id:"start1",component:r.a.createElement(I,null),asMessage:!0,waitAction:!0,trigger:"user"},{id:"user",user:!0,trigger:"message-returner"},{id:"message-returner",component:r.a.createElement(N,null),trigger:"feedback",waitAction:!0,asMessage:!0},{id:"feedback",component:r.a.createElement(y,null),asMessage:!0,trigger:"user"},{id:"feedback-form",message:"What should have I said?",trigger:"user-feedback"},{id:"user-feedback",user:!0,trigger:"thanks-message"},{id:"thanks-message",delay:1500,message:"Thanks!",trigger:"thanks"},{id:"thanks",component:r.a.createElement(S,null),asMessage:!0,delay:100}];var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement(p.a,{width:"100%",enableMobileAutoFocus:"true",steps:C,headerTitle:"PAL",contentStyle:{height:"86vh"},style:{height:"100%"},botDelay:0,userDelay:50})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object({NODE_ENV:"production",PUBLIC_URL:"/chat"}).NODE_TLS_REJECT_UNAUTHORIZED="0",i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},54:function(e,t,n){e.exports=n(105)},59:function(e,t,n){},60:function(e,t,n){},85:function(e,t){},87:function(e,t){}},[[54,1,2]]]);
//# sourceMappingURL=main.e26058d9.chunk.js.map